---
import { formatDate, formatDateISO } from '@/helpers/date';
import type { CollectionEntry } from 'astro:content';

type Props = {
  entry: CollectionEntry<'articles'>;
};

const { entry } = Astro.props;

const href = entry.data.external ?? `/articles/${entry.slug}`;
const target = entry.data.external ? '_blank' : undefined;
---

<article>
  <a class="group/link bg-primary-50 block rounded-lg p-4" href={href} target={target}>
    <h2 class="text-primary-800 mb-4 text-lg font-medium group-hover/link:underline">
      {entry.data.title}
    </h2>
    <time class="text-primary-700 mb-2 block" datetime={formatDateISO(entry.data.date)}>
      {formatDate(entry.data.date)}
    </time>
    <p class="text-base text-neutral-700">{entry.data.summary}</p>
  </a>
</article>
